<template>
  <input
    v-if="!password"
    type="text"
    :placeholder="placeholder"
    class="input"
    v-model="inputValue"
  />
  <div v-else class="password">
    <input
      :type="typePassword"
      :placeholder="placeholder"
      class="password__input input"
      v-model="inputValue"
    />
    <button @click="togglePassword" class="password__button">
      <svg
        v-if="typePassword === 'password'"
        width="18"
        height="13"
        viewBox="0 0 18 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M2.33386 6.5C2.39538 6.61794 2.4766 6.76626 2.57805 6.9367C2.85105 7.39534 3.26581 8.00618 3.83083 8.61466C4.96131 9.8321 6.6511 11 8.99999 11C11.3489 11 13.0387 9.8321 14.1691 8.61466C14.7342 8.00618 15.1489 7.39534 15.4219 6.9367C15.5234 6.76626 15.6046 6.61794 15.6661 6.5C15.6046 6.38206 15.5234 6.23374 15.4219 6.0633C15.1489 5.60466 14.7342 4.99382 14.1691 4.38534C13.0387 3.1679 11.3489 2 8.99999 2C6.6511 2 4.96131 3.1679 3.83083 4.38534C3.26581 4.99382 2.85105 5.60466 2.57805 6.0633C2.4766 6.23374 2.39538 6.38206 2.33386 6.5ZM16.5 6.5C17.1893 6.20456 17.1891 6.20393 17.1891 6.20393L17.188 6.20132L17.1857 6.19615L17.1787 6.18019C17.1728 6.16708 17.1647 6.14909 17.1543 6.12654C17.1335 6.08145 17.1034 6.01807 17.0639 5.939C16.9849 5.78099 16.8678 5.55965 16.7109 5.29607C16.3979 4.77034 15.9221 4.06868 15.2683 3.36466C13.9613 1.9571 11.9011 0.5 8.99999 0.5C6.09888 0.5 4.03866 1.9571 2.73164 3.36466C2.07791 4.06868 1.60205 4.77034 1.28911 5.29607C1.13222 5.55965 1.01511 5.78099 0.9361 5.939C0.896568 6.01807 0.86649 6.08145 0.845663 6.12654C0.835247 6.14909 0.827137 6.16708 0.821308 6.18019L0.81427 6.19615L0.812026 6.20132L0.811221 6.20318L0.810899 6.20393C0.810899 6.20393 0.810628 6.20456 1.49999 6.5L0.810899 6.20393C0.730044 6.39259 0.729773 6.60678 0.810628 6.79544L1.49999 6.5C0.810628 6.79544 0.810628 6.79544 0.810628 6.79544L0.811221 6.79682L0.812026 6.79868L0.81427 6.80385L0.821308 6.81981C0.827137 6.83292 0.835247 6.85091 0.845663 6.87346C0.86649 6.91855 0.896568 6.98193 0.9361 7.061C1.01511 7.21901 1.13222 7.44035 1.28911 7.70393C1.60205 8.22966 2.07791 8.93132 2.73164 9.63534C4.03866 11.0429 6.09888 12.5 8.99999 12.5C11.9011 12.5 13.9613 11.0429 15.2683 9.63534C15.9221 8.93132 16.3979 8.22966 16.7109 7.70393C16.8678 7.44035 16.9849 7.21901 17.0639 7.061C17.1034 6.98193 17.1335 6.91855 17.1543 6.87346C17.1647 6.85091 17.1728 6.83292 17.1787 6.81981L17.1857 6.80385L17.188 6.79868L17.1891 6.79607C17.1891 6.79607 17.1893 6.79544 16.5 6.5ZM16.5 6.5L17.1891 6.79607C17.2699 6.60741 17.2699 6.39259 17.1891 6.20393L16.5 6.5Z"
          fill="#6C6C7A"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.2529 9.77624L3.75287 3.77624L4.49708 2.47388L14.9971 8.47388L14.2529 9.77624Z"
          fill="#6C6C7A"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M5.99997 5.75006C5.99997 4.50742 5.88233 4.2501 7.12497 4.2501L8.62497 5.0001C8.99997 5.0001 12 7.50348 12 8.0001L12 7.25006C12 8.4927 10.9926 9.50006 9.74997 9.50006H8.24997C7.00733 9.50006 5.99997 8.4927 5.99997 7.25006V5.75006ZM8.24997 5.7501C7.83576 5.7501 7.49997 5.75006 7.49997 5.75006V7.25006C7.49997 7.66427 7.83576 8.00006 8.24997 8.00006H9.74997C10.1642 8.00006 10.5 7.66427 10.5 7.25006V6.5001C10.5 6.08589 10.1642 5.7501 9.74997 5.7501H8.24997Z"
          fill="#6C6C7A"
        />
      </svg>
      <svg
        v-else
        width="18"
        height="13"
        viewBox="0 0 18 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M2.33374 6.5C2.39526 6.61794 2.47648 6.76626 2.57793 6.9367C2.85093 7.39534 3.26569 8.00618 3.83071 8.61466C4.96119 9.8321 6.65097 11 8.99986 11C11.3488 11 13.0385 9.8321 14.169 8.61466C14.734 8.00618 15.1488 7.39534 15.4218 6.9367C15.5233 6.76626 15.6045 6.61794 15.666 6.5C15.6045 6.38206 15.5233 6.23374 15.4218 6.0633C15.1488 5.60466 14.734 4.99382 14.169 4.38534C13.0385 3.1679 11.3488 2 8.99986 2C6.65097 2 4.96119 3.1679 3.83071 4.38534C3.26569 4.99382 2.85093 5.60466 2.57793 6.0633C2.47648 6.23374 2.39526 6.38206 2.33374 6.5ZM16.4999 6.5C17.1892 6.20456 17.1891 6.20426 17.189 6.20393L17.1878 6.20132L17.1856 6.19615L17.1785 6.18019C17.1727 6.16708 17.1646 6.14909 17.1542 6.12654C17.1334 6.08145 17.1033 6.01807 17.0638 5.939C16.9847 5.78099 16.8676 5.55965 16.7107 5.29607C16.3978 4.77034 15.9219 4.06868 15.2682 3.36466C13.9612 1.9571 11.901 0.5 8.99986 0.5C6.09876 0.5 4.03854 1.9571 2.73152 3.36466C2.07779 4.06868 1.60193 4.77034 1.28899 5.29607C1.1321 5.55965 1.01499 5.78099 0.935978 5.939C0.896446 6.01807 0.866368 6.08145 0.845541 6.12654C0.835125 6.14909 0.827015 6.16708 0.821186 6.18019L0.814148 6.19615L0.811904 6.20132L0.811099 6.20318L0.810776 6.20393C0.810637 6.20426 0.810506 6.20456 1.49987 6.5L0.810776 6.20393C0.729921 6.39259 0.729651 6.60678 0.810506 6.79544L1.49987 6.5C0.810506 6.79544 0.810367 6.79511 0.810506 6.79544L0.811099 6.79682L0.811904 6.79868L0.814148 6.80385L0.821186 6.81981C0.827015 6.83292 0.835125 6.85091 0.845541 6.87346C0.866368 6.91855 0.896446 6.98193 0.935978 7.061C1.01499 7.21901 1.1321 7.44035 1.28899 7.70393C1.60193 8.22966 2.07779 8.93132 2.73152 9.63534C4.03854 11.0429 6.09876 12.5 8.99986 12.5C11.901 12.5 13.9612 11.0429 15.2682 9.63534C15.9219 8.93132 16.3978 8.22966 16.7107 7.70393C16.8676 7.44035 16.9847 7.21901 17.0638 7.061C17.1033 6.98193 17.1334 6.91855 17.1542 6.87346C17.1646 6.85091 17.1727 6.83292 17.1785 6.81981L17.1856 6.80385L17.1878 6.79868L17.189 6.79607C17.1891 6.79574 17.1892 6.79544 16.4999 6.5ZM16.4999 6.5L17.189 6.79607C17.2698 6.60741 17.2698 6.39259 17.189 6.20393L16.4999 6.5ZM5.99987 5.75C5.99987 4.50736 7.00722 3.5 8.24986 3.5H9.74986C10.9925 3.5 11.9999 4.50736 11.9999 5.75V7.25C11.9999 8.49264 10.9925 9.5 9.74986 9.5H8.24986C7.00722 9.5 5.99987 8.49264 5.99987 7.25V5.75ZM8.24986 5C7.83565 5 7.49986 5.33579 7.49986 5.75V7.25C7.49986 7.66421 7.83565 8 8.24986 8H9.74986C10.1641 8 10.4999 7.66421 10.4999 7.25V5.75C10.4999 5.33579 10.1641 5 9.74986 5H8.24986Z"
          fill="#6C6C7A"
        />
      </svg>
    </button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      inputValue: "",
      typePassword: "password",
    };
  },
  props: {
    placeholder: {
      type: String,
      default: "",
    },
    password: {
      type: Boolean,
      default: false,
    },
  },
  emits: ["input"],
  methods: {
    togglePassword() {
      this.typePassword === "password"
        ? (this.typePassword = "text")
        : (this.typePassword = "password");
    },
  },
  watch: {
    inputValue() {
      this.$emit("input", this.inputValue);
    },
  },
};
</script>

<style scoped>
.input {
  background-color: #2b2b31;
  border: none;
  outline: none;
  color: #fff;
  padding: 12px 16px;
  border-radius: 8px;
  width: 100%;
  box-sizing: border-box;
}

.input:focus {
  background-color: #37373e;
}

@media screen and (max-width: 360px) {
  .input {
    font-size: 14px;
    line-height: 16px;
  }
}

.password {
  position: relative;
  width: 100%;
}

.password__button {
  top: 14px;
  right: 15px;
  padding: 0;
  border: none;
  background: none;
  position: absolute;
}

.password__button:hover {
  cursor: pointer;
}
</style>
